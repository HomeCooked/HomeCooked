<ion-view title="Settings" class="settings-page" hide-back-button="true">
    <ion-nav-buttons side="left">
        <button class="button button-icon button-clear ion-navicon" menu-toggle="left"></button>
    </ion-nav-buttons>
    <ion-content class="has-header">
        <div class="profile dark-bg">
            <div class="hc-profile-picture" ng-style="{'background-image': 'url('+ (vm.user.picture ||'images/user.png') +')'}">
                <a ng-click="vm.showUpdatePhoto()" class="button button-clear icon ion-camera"></a>
            </div>
            <h3>{{vm.user.first_name}} {{vm.user.last_name}}</h3>
        </div>

        <div class="list">
            <div class="item item-divider">
                Contact Information
            </div>
            <a class="item item-icon-right" ng-click="vm.showUpdateEmail()">
                Email address
                <span class="item-note">{{vm.user.email}}</span>
                <i class="icon ion-ios-arrow-right"></i>
            </a>
            <a class="item item-icon-right" ng-click="vm.showUpdatePhone()">
                Phone number
                <span class="item-note">{{vm.user.phone_number}}</span>
                <i class="icon ion-ios-arrow-right"></i>
            </a>
        </div>

        <div class="list">
            <div class="item item-divider">
                Billing information
            </div>
            <a class="item item-icon-right" ng-click="vm.showUpdatePayment()">
                Payment Info
                <span class="item-note" ng-if="!vm.user.has_payment">None</span>
                <span class="item-note" ng-if="vm.user.has_payment">{{vm.user.payment_info.card_type}} ending in {{vm.user.payment_info.last_four}}</span>
                <i class="icon ion-ios-arrow-right"></i>
            </a>
        </div>

        <div class="list">
            <div class="item item-divider">
                About
            </div>
            <a class="item item-icon-right" ng-click="vm.openRatingLink()">
                Love HomeCooked? Rate us!
                <i class="icon ion-heart assertive"></i>
            </a>
            <a class="item item-icon-right" ng-click="vm.openExternalLink('http://www.gohomecooked.com/terms.html')">
                Terms &amp; Conditions
            </a>
            <a class="item item-icon-right" ng-click="vm.openExternalLink('http://www.gohomecooked.com/privacy.html')">
                Privacy Policy
            </a>
            <a class="item">
                Version
                <span class="item-note">{{vm.version}}</span>
            </a>
        </div>

        <div class="padding">
            <button class="button button-block button-assertive icon-left" ng-click="vm.confirmLogout();">
                <i class="icon ion-log-out"></i> Sign out
            </button>
        </div>
    </ion-content>
</ion-view>
