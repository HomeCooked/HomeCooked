<ion-view title="Become a chef!" hide-back-button="true">
    <ion-content class="has-header">
        <form novalidate class="list" name="enrollForm">

            <div class="hc-image-container">
                <div class="button button-positive button-clear button-block hc-button-upload">
                    {{pictureData ? 'Upload Another Image' : 'Upload Image'}}
                    <input type="file" name="picture" required accept="image/*" ng-model="pictureData"
                           base-sixty-four-input
                           ng-change="vm.form.picture=''; vm.picture='data:' + pictureData.filetype + ';base64,' + pictureData.base64;"/>
                </div>
                <div class="hc-crop-area" ng-if="vm.picture">
                    <img-crop image="vm.picture" result-image="vm.form.picture" change-on-fly="false" result-image-quality="1"></img-crop>
                </div>
            </div>
            <label class="item item-input item-stacked-label">
                <span class="input-label">First name</span>
                <input type="text" name="first_name" placeholder="First name" required ng-minlength="2"
                       ng-maxlength="50" ng-model="vm.form.first_name">
            </label>
            <label class="item item-input item-stacked-label">
                <span class="input-label">Last name</span>
                <input type="text" name="last_name" placeholder="Last name" required ng-minlength="2" ng-maxlength="50"
                       ng-model="vm.form.last_name">
            </label>
            <label class="item item-input item-stacked-label">
                <span class="input-label">Date of birth</span>
                <input type="date" name="dob" required ng-minlength="10" ng-maxlength="10" ng-model="vm.form.dob">
            </label>
            <label class="item item-input item-stacked-label">
                <span class="input-label">Email</span>
                <input type="email" name="email" placeholder="Email" required ng-model="vm.form.email">
                <span ng-show="enrollForm.email.$dirty && enrollForm.email.$invalid">This is not a valid email.</span>
            </label>
            <label class="item item-input item-stacked-label">
                <span class="input-label">Phone</span>
                <input type="text" name="phone_number" placeholder="Phone" required ng-minlength="5" ng-maxlength="15"
                       ng-model="vm.form.phone_number">
            </label>
            <label class="item item-input item-stacked-label">
                <span class="input-label">Social Security Number</span>
                <input type="text" name="ssn" placeholder="SSN" required ng-minlength="9" ng-maxlength="9"
                       ng-model="vm.form.ssn">
            </label>
            <label class="item item-input item-stacked-label">
                <span class="input-label">Address</span>
                <input type="text" name="address" placeholder="Address, city, zipcode" required ng-minlength="2"
                       ng-maxlength="50" ng-model="vm.form.address" g-places-autocomplete force-selection="true">
            </label>

            <div class="button button-positive button-block" ng-disabled="enrollForm.$invalid"
                 ng-click="vm.enroll(vm.form)">Enroll
            </div>
        </form>
    </ion-content>
</ion-view>
